import React from 'react'

async function getStrategies(locale) {
    const token = process.env.API_TOKEN;
    const options = { 
        headers: { Authorization: `Bearer ${token}` },
        next: {
            revalidate: 0
        }
    };
    const res = await fetch(process.env.BASE_URL + '/api/strategies?populate=*&locale='+locale, options);
    return res.json();
}

export default async function Strategies({locale}) {
    const strategies = await getStrategies(locale)

    const renderIcon = (index) => {
        switch (index) {
            case 0:
                return (
                    <svg className="w-1em h-1em" xmlns="http://www.w3.org/2000/svg" width="40.09" height="40.09" viewBox="0 0 40.09 40.09" fill="#FFFFFF">
                        <path d="M181.632,298.458h20.826V277.632h-9.7a1.344,1.344,0,0,0-1.432,1.432v7.484a1.506,1.506,0,0,0-.976,1.5,1.774,1.774,0,0,0,.423,1.2,1.589,1.589,0,0,0,1.269.488,1.67,1.67,0,0,0,1.171-.488,1.585,1.585,0,0,0,.521-1.2,1.438,1.438,0,0,0-.325-1.021,1.88,1.88,0,0,0-.651-.476v-7.484h8.265v17.962H183.064V279.064H187.1v-1.432h-5.467Zm-6.118,9.632A3.47,3.47,0,0,1,172,304.576V271.514A3.47,3.47,0,0,1,175.514,268h33.061a3.47,3.47,0,0,1,3.514,3.514v33.061a3.47,3.47,0,0,1-3.514,3.514Zm0-1.432h33.061a2.24,2.24,0,0,0,2.083-2.083V271.514a2.24,2.24,0,0,0-2.083-2.083H175.514a2.24,2.24,0,0,0-2.083,2.083v33.061a2.24,2.24,0,0,0,2.083,2.083Zm-2.083-37.226v0Z" transform="translate(-172 -268)" fill="currentColor"></path>
                    </svg>
                )
                break;
            case 1:
                return (
                    <svg className="w-1em h-1em" xmlns="http://www.w3.org/2000/svg" width="36.958" height="35.329" viewBox="0 0 36.958 35.329" fill="currentColor">
                        <path d="M189,329.329v-1.378h4.26v1.378Zm0-8.582V319.37h15.159v1.378Zm0-8.394v-1.378h36.958v1.378Zm0-8.394v-1.378h15.159v1.378Zm0-8.582V294h4.26v1.378Zm10.9,33.951v-1.378h4.26v1.378Zm0-33.951V294h4.26v1.378Zm11.025,33.951v-1.378h4.134v1.378Zm0-8.582V319.37h15.034v1.378ZM210.8,303.96v-1.378h15.159v1.378Zm0-8.582V294h4.26v1.378Zm10.9,33.951v-1.378h4.26v1.378Zm0-33.951V294h4.26v1.378Z" transform="translate(-189 -294)" fill="currentColor"></path>
                    </svg>
                )
                break;
            case 2:
                return (
                    <svg className="w-1em h-1em" xmlns="http://www.w3.org/2000/svg" width="40" height="44.311" viewBox="0 0 40 44.311" fill="currentColor">
                        <path d="M166,250.311l-20-11.2V216.958L166,206l20,10.958v22.156Zm-6.587-26.587a8.529,8.529,0,0,1,2.9-2.515,8,8,0,0,1,7.365,0,8.529,8.529,0,0,1,2.9,2.515l11.257-6.347L166,207.5l-17.844,9.88Zm5.928,24.671V236.12a8.631,8.631,0,0,1-5.12-2.695,7.464,7.464,0,0,1-2.066-5.269,7.168,7.168,0,0,1,.18-1.617,14.542,14.542,0,0,1,.479-1.617l-11.5-6.467v19.88ZM166,234.683a6.442,6.442,0,1,0-4.641-1.886A6.308,6.308,0,0,0,166,234.683Zm.659,13.713,18.024-10.06v-19.88l-11.5,6.467a14.533,14.533,0,0,1,.479,1.617,7.168,7.168,0,0,1,.18,1.617,7.464,7.464,0,0,1-2.066,5.269,8.63,8.63,0,0,1-5.12,2.695Z" transform="translate(-146 -206)" fill="currentColor"></path>
                    </svg>
                )
                break;
            case 3:
                return (
                    <svg className="w-1em h-1em" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="currentColor">
                        <path d="M150.276,266.851a28.821,28.821,0,0,1-3.391-5.4,33.475,33.475,0,0,1-2.356-6.379h-10a19.04,19.04,0,0,0,15.747,11.782ZM134.184,253.8H144.3a29.229,29.229,0,0,1-.4-2.988q-.115-1.437-.115-2.759t.115-2.787q.115-1.466.4-3.075H134.184a15.93,15.93,0,0,0-.69,2.816,20.005,20.005,0,0,0-.23,3.046,19.628,19.628,0,0,0,.23,2.989A14.525,14.525,0,0,0,134.184,253.8Zm.345-12.874h10a28.886,28.886,0,0,1,2.328-6.523,22.564,22.564,0,0,1,3.477-5.259,20.524,20.524,0,0,0-9.483,3.736A19.546,19.546,0,0,0,134.529,240.931Zm11.322,0h12.3a29.768,29.768,0,0,0-2.356-6.322,28.107,28.107,0,0,0-3.793-5.46,25.479,25.479,0,0,0-3.736,5.259A30.22,30.22,0,0,0,145.851,240.931Zm13.621,0h10a20.4,20.4,0,0,0-6.437-8.075,18.826,18.826,0,0,0-9.31-3.707,28.241,28.241,0,0,1,3.161,5.172A43.017,43.017,0,0,1,159.471,240.931ZM152,268a19.693,19.693,0,0,1-7.787-1.552,20.225,20.225,0,0,1-6.379-4.253,20.031,20.031,0,0,1,0-28.333,20.632,20.632,0,0,1,6.379-4.282,19.975,19.975,0,0,1,15.575,0,20.631,20.631,0,0,1,6.379,4.282,19.8,19.8,0,0,1,5.833,14.2q0,.747-.057,1.552t-.172,1.552h-1.322q.115-.747.2-1.523a14.3,14.3,0,0,0,.086-1.58,20,20,0,0,0-.23-3.046,15.93,15.93,0,0,0-.69-2.816H159.7q.287,1.667.4,3.1t.115,2.759q0,.69-.029,1.408t-.086,1.7h-1.322q.115-.862.144-1.609t.029-1.494q0-1.437-.115-2.816t-.4-3.046H145.563q-.287,1.667-.4,3.046t-.115,2.816q0,1.379.115,2.73t.4,3.017h9.6v1.264h-9.31a34.731,34.731,0,0,0,2.557,6.782,21.037,21.037,0,0,0,3.592,5,19.464,19.464,0,0,0,1.7-2.069q.776-1.092,1.466-2.3v5.287q-.8.115-1.58.172T152,268Zm18.276-.8-8.448-8.448v7.471h-1.264v-9.655h9.655v1.264H162.69l8.448,8.448Z" transform="translate(-132 -228)" fill="currentColor"></path>
                    </svg>
                )
                break;
            case 4:
                return (
                    <svg className="w-1em h-1em" xmlns="http://www.w3.org/2000/svg" width="40.412" height="40.412" viewBox="0 0 40.412 40.412" fill="currentColor">
                        <path d="M152.216,268.412a19.7,19.7,0,0,1-7.881-1.59,20.177,20.177,0,0,1-10.743-10.729,20.3,20.3,0,0,1,0-15.757,20.177,20.177,0,0,1,10.729-10.743,20.3,20.3,0,0,1,15.757,0,20.177,20.177,0,0,1,10.743,10.729,20.3,20.3,0,0,1,0,15.757,20.176,20.176,0,0,1-10.729,10.743A19.644,19.644,0,0,1,152.216,268.412Zm-.01-1.277a18.434,18.434,0,0,0,7.069-1.364,19.281,19.281,0,0,0,5.879-3.745l-5.69-5.632a11.028,11.028,0,0,1-3.317,2,10.773,10.773,0,0,1-3.941.726,10.928,10.928,0,1,1,10.916-10.916,10.693,10.693,0,0,1-.726,3.941,12.01,12.01,0,0,1-1.945,3.317l5.632,5.632a18.981,18.981,0,0,0,3.716-5.835,18.53,18.53,0,0,0,1.335-7.055,18.968,18.968,0,1,0-18.929,18.929Zm0-9.29a9.867,9.867,0,0,0,3.473-.61,9.48,9.48,0,0,0,2.914-1.713l-5.806-5.806a1.859,1.859,0,0,1-.284.077,1.512,1.512,0,0,1-.284.039,1.626,1.626,0,1,1,1.12-2.758,1.545,1.545,0,0,1,.494,1.121,1.631,1.631,0,0,1-.039.306,1.706,1.706,0,0,1-.077.287l5.806,5.806a10.343,10.343,0,0,0,1.713-2.948,9.641,9.641,0,0,0,.61-3.439,9.648,9.648,0,1,0-9.638,9.638Z" transform="translate(-132 -228)" fill="currentColor"></path>
                    </svg>
                )
                break;
            default:
                return (
                    <svg className="w-1em h-1em" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="currentColor">
                        <path d="M150.276,266.851a28.821,28.821,0,0,1-3.391-5.4,33.475,33.475,0,0,1-2.356-6.379h-10a19.04,19.04,0,0,0,15.747,11.782ZM134.184,253.8H144.3a29.229,29.229,0,0,1-.4-2.988q-.115-1.437-.115-2.759t.115-2.787q.115-1.466.4-3.075H134.184a15.93,15.93,0,0,0-.69,2.816,20.005,20.005,0,0,0-.23,3.046,19.628,19.628,0,0,0,.23,2.989A14.525,14.525,0,0,0,134.184,253.8Zm.345-12.874h10a28.886,28.886,0,0,1,2.328-6.523,22.564,22.564,0,0,1,3.477-5.259,20.524,20.524,0,0,0-9.483,3.736A19.546,19.546,0,0,0,134.529,240.931Zm11.322,0h12.3a29.768,29.768,0,0,0-2.356-6.322,28.107,28.107,0,0,0-3.793-5.46,25.479,25.479,0,0,0-3.736,5.259A30.22,30.22,0,0,0,145.851,240.931Zm13.621,0h10a20.4,20.4,0,0,0-6.437-8.075,18.826,18.826,0,0,0-9.31-3.707,28.241,28.241,0,0,1,3.161,5.172A43.017,43.017,0,0,1,159.471,240.931ZM152,268a19.693,19.693,0,0,1-7.787-1.552,20.225,20.225,0,0,1-6.379-4.253,20.031,20.031,0,0,1,0-28.333,20.632,20.632,0,0,1,6.379-4.282,19.975,19.975,0,0,1,15.575,0,20.631,20.631,0,0,1,6.379,4.282,19.8,19.8,0,0,1,5.833,14.2q0,.747-.057,1.552t-.172,1.552h-1.322q.115-.747.2-1.523a14.3,14.3,0,0,0,.086-1.58,20,20,0,0,0-.23-3.046,15.93,15.93,0,0,0-.69-2.816H159.7q.287,1.667.4,3.1t.115,2.759q0,.69-.029,1.408t-.086,1.7h-1.322q.115-.862.144-1.609t.029-1.494q0-1.437-.115-2.816t-.4-3.046H145.563q-.287,1.667-.4,3.046t-.115,2.816q0,1.379.115,2.73t.4,3.017h9.6v1.264h-9.31a34.731,34.731,0,0,0,2.557,6.782,21.037,21.037,0,0,0,3.592,5,19.464,19.464,0,0,0,1.7-2.069q.776-1.092,1.466-2.3v5.287q-.8.115-1.58.172T152,268Zm18.276-.8-8.448-8.448v7.471h-1.264v-9.655h9.655v1.264H162.69l8.448,8.448Z" transform="translate(-132 -228)" fill="currentColor"></path>
                    </svg>
                )
          }
    }
  return (
    <section className="lqd-section features py-60" id="features" data-custom-animations="true" data-ca-options='{"animationTarget": ".animation-element", "duration" : 850, "startDelay" : 300, "delay" : 70, "ease": "expo.out", "initValues": {"scaleX" : 0.7, "scaleY" : 0.7, "rotationZ" : 2, "opacity" : 0} , "animations": {"scaleX" : 1, "scaleY" : 1, "rotationZ" : 0, "opacity" : 1}}'>
        <div className="container">
        <div className="row justify-around self-stretch gap-60">
            {strategies.data.map((strategy, index) => (
            <div className="col flex-auto w-30percent sm:w-full" key={index}>
                <div className="flex flex-col gap-30 animation-element">
                    <div className="max-w-full flex justify-center items-center text-40 text-purple border-primary mb-10">
                        {renderIcon(index)}
                    </div>
                    <div className="max-w-full text-center">
                        <p className="lqd-text-reveal-el text-30 font-medium leading-30 m-0 text-purple" data-split-text={`${locale=="en" ? 'true': 'false'}`} data-split-options={`${locale=='en' && ('{"type": "words, chars"}')}`} data-parallax="true" data-parallax-options='{"parallaxTargets": ".lqd-chars, figure", "start": "top 50%", "end": "bottom bottom", "scrub" : 3}' data-parallax-from='{"opacity" : 0.2}' data-parallax-to='{"opacity" : 1, "stagger": {"from": "start", "each" : 1}}'>
                            {strategy.attributes.title}
                        </p>
                    </div>
                    <div className="max-w-full text-center">
                        <p className="lqd-text-reveal-el text-20 font-normal leading-25 text-yellow-100 m-0" data-split-text={`${locale=="en" ? 'true': 'false'}`} data-split-options={`${locale=='en' && ('{"type": "words, chars"}')}`} data-parallax="true" data-parallax-options='{"parallaxTargets": ".lqd-chars, figure", "start": "top 50%", "end": "bottom bottom", "scrub" : 3}' data-parallax-from='{"opacity" : 0.2}' data-parallax-to='{"opacity" : 1, "stagger": {"from": "start", "each" : 1}}'>
                            {strategy.attributes.description}
                        </p>
                    </div>
                </div>
            </div>
            ))}
        </div>
        </div>
    </section>
  )
}